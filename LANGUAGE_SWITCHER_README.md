# 语言切换功能说明

## 功能概述

为导航栏添加了日语和中文的语言切换功能，包括：

- 🇯🇵 日语 (日本語)
- 🇨🇳 中文 (中文)

## 技术实现

### 1. 依赖包
- `react-i18next`: React国际化库
- `i18next`: 核心国际化库
- `i18next-browser-languagedetector`: 浏览器语言检测

### 2. 文件结构
```
lib/
  └── i18n.ts                    # 国际化配置
components/
  ├── I18nProvider.tsx          # i18n提供者组件
  └── ui/
      └── LanguageSwitcher.tsx   # 语言切换组件
```

### 3. 字体支持
- 日语: Noto Sans JP
- 中文: Noto Sans SC
- 自动根据语言切换字体

## 使用方法

### 1. 语言切换
- 点击导航栏右侧的语言切换按钮
- 选择日语或中文
- 页面内容会自动切换语言

### 2. 翻译内容
所有翻译内容都在 `lib/i18n.ts` 中定义：

```typescript
const resources = {
  ja: {
    translation: {
      home: 'ホーム',
      news: 'ニュース',
      // ... 更多翻译
    }
  },
  zh: {
    translation: {
      home: '首页',
      news: '新闻资讯',
      // ... 更多翻译
    }
  }
}
```

### 3. 添加新翻译
1. 在 `lib/i18n.ts` 中添加新的翻译键值对
2. 在组件中使用 `useTranslation` hook
3. 使用 `t('key')` 获取翻译文本

## 特性

### 1. 自动语言检测
- 根据浏览器语言自动选择初始语言
- 支持本地存储记住用户选择

### 2. 响应式设计
- 桌面端显示国旗和语言名称
- 移动端优化显示

### 3. 字体优化
- 日语使用 Noto Sans JP 字体
- 中文使用 Noto Sans SC 字体
- 确保文字显示清晰美观

### 4. 平滑切换
- 语言切换时页面内容平滑过渡
- 保持用户体验的连续性

## 注意事项

1. 确保所有文本都使用翻译函数
2. 新添加的文本需要同时提供日语和中文翻译
3. 翻译内容要符合当地语言习惯，避免直译
4. 字体文件会自动加载，无需手动处理

## 扩展支持

如需添加更多语言，只需：
1. 在 `LanguageSwitcher.tsx` 中添加新语言选项
2. 在 `lib/i18n.ts` 中添加对应翻译
3. 在 `layout.tsx` 中添加对应字体（如需要）
